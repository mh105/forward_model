#!/bin/sh
#
#	This script removes binaries for some platforms from MNE_ROOT
#
#       Copyright 2006
#
#       Matti Hamalainen
#       Athinoula A. Martinos Center for Biomedical Imaging
#       Massachusetts General Hospital
#       Charlestown, MA, USA
#
#
#	$Id: mne_remove_platform 2902 2009-10-31 23:00:23Z nicks $
#
#	Revision 1.2  2008/09/30 19:02:54  msh
#	Removed HP-UX preferences, prefer newer Darwin versions to the older ones
#
#	Revision 1.1  2006/10/24 22:48:35  msh
#	Added mne_remove_platform script
#	
#
if [ ! "$MNE_ROOT" ]
then
    echo "MNE_ROOT not set"
    exit 1
fi

if [ $# -eq 0 ]
then
	echo "Usage: $0 <platform> <platform> ..."
	echo "<platform> can be one of linux, darwin"
	exit 1
fi

if [ ! -d $MNE_ROOT ]
then
    echo "MNE_ROOT directory ($MNE_ROOT) does not exist."
    exit 1
fi

cd $MNE_ROOT
if [ $? -ne 0 ]
then
    echo "Could not change to $MNE_ROOT"
    exit 1
fi

for platform in $*
do
	case "$platform" in
	linux)
	        echo "Removing binaries for platform $platform..."
	        find . -depth -name '*linux-gnu*' -print -exec rm -rf '{}' \;
		;;
	darwin)
	        echo "Removing binaries for platform $platform..."
	        find . -depth -name '*apple-darwin*' -print -exec rm -rf '{}' \;
		;;
	esac
done
exit 0
